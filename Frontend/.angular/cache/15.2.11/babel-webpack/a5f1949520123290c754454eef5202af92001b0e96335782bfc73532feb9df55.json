{"ast":null,"code":"export function appInitializer(accountService) {\n  return () => new Promise(resolve => {\n    // Check if we have a stored account first\n    const account = accountService.accountValue;\n    if (!account) {\n      // No stored account, just resolve\n      resolve();\n      return;\n    }\n    // Always try to refresh token on app start up\n    accountService.refreshToken().subscribe({\n      next: () => {\n        console.log('Token refreshed successfully during app initialization');\n        resolve();\n      },\n      error: error => {\n        console.error('Token refresh failed during app initialization:', error);\n        // Clear any stored data to ensure clean state\n        accountService.clearAccountData();\n        resolve();\n      }\n    });\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}